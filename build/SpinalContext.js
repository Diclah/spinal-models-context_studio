"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Utilities = require("./Utilities");

var _SpinalApplication = require("./SpinalApplication");

var _SpinalApplication2 = _interopRequireDefault(_SpinalApplication);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const spinalCore = require("spinal-core-connectorjs");
const globalType = typeof window === "undefined" ? global : window;
let getViewer = function () {
  return globalType.v;
};

/**
 *
 *
 * @class SpinalContext
 * @extends {SpinalApplication}
 */

class SpinalContext extends _SpinalApplication2.default {
  /**
   *Creates an instance of SpinalContext.
   * @param {string} name
   * @param {string[]} relationsTypesLst
   * @param {SpinalGraph} relatedGraph
   * @param {SpinaNode} startingNode
   * @param {string} [name="SpinalContext"]
   * @memberof SpinalContext
   */
  constructor(_name, relationsTypesLst, relatedGraph, startingNode, name = "SpinalContext") {
    super(_name, relationsTypesLst, relatedGraph);
    if (FileSystem._sig_server) {
      this.add_attr({
        startingNode: startingNode || new Ptr(0),
        contextImage: new Lst()
      });
    }
  }
}
exports.default = SpinalContext;

spinalCore.register_models([SpinalContext]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9TcGluYWxDb250ZXh0LmpzIl0sIm5hbWVzIjpbInNwaW5hbENvcmUiLCJyZXF1aXJlIiwiZ2xvYmFsVHlwZSIsIndpbmRvdyIsImdsb2JhbCIsImdldFZpZXdlciIsInYiLCJTcGluYWxDb250ZXh0IiwiU3BpbmFsQXBwbGljYXRpb24iLCJjb25zdHJ1Y3RvciIsIl9uYW1lIiwicmVsYXRpb25zVHlwZXNMc3QiLCJyZWxhdGVkR3JhcGgiLCJzdGFydGluZ05vZGUiLCJuYW1lIiwiRmlsZVN5c3RlbSIsIl9zaWdfc2VydmVyIiwiYWRkX2F0dHIiLCJQdHIiLCJjb250ZXh0SW1hZ2UiLCJMc3QiLCJyZWdpc3Rlcl9tb2RlbHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQU1BOztBQUlBOzs7Ozs7QUFWQSxNQUFNQSxhQUFhQyxRQUFRLHlCQUFSLENBQW5CO0FBQ0EsTUFBTUMsYUFBYSxPQUFPQyxNQUFQLEtBQWtCLFdBQWxCLEdBQWdDQyxNQUFoQyxHQUF5Q0QsTUFBNUQ7QUFDQSxJQUFJRSxZQUFZLFlBQVc7QUFDekIsU0FBT0gsV0FBV0ksQ0FBbEI7QUFDRCxDQUZEOztBQVlBOzs7Ozs7O0FBUUEsTUFBTUMsYUFBTixTQUE0QkMsMkJBQTVCLENBQThDO0FBQzVDOzs7Ozs7Ozs7QUFTQUMsY0FBWUMsS0FBWixFQUFtQkMsaUJBQW5CLEVBQXNDQyxZQUF0QyxFQUFvREMsWUFBcEQsRUFBa0VDLE9BQ2hFLGVBREYsRUFDbUI7QUFDakIsVUFBTUosS0FBTixFQUFhQyxpQkFBYixFQUFnQ0MsWUFBaEM7QUFDQSxRQUFJRyxXQUFXQyxXQUFmLEVBQTRCO0FBQzFCLFdBQUtDLFFBQUwsQ0FBYztBQUNaSixzQkFBY0EsZ0JBQWdCLElBQUlLLEdBQUosQ0FBUSxDQUFSLENBRGxCO0FBRVpDLHNCQUFjLElBQUlDLEdBQUo7QUFGRixPQUFkO0FBSUQ7QUFDRjtBQW5CMkM7a0JBcUIvQmIsYTs7QUFDZlAsV0FBV3FCLGVBQVgsQ0FBMkIsQ0FBQ2QsYUFBRCxDQUEzQiIsImZpbGUiOiJTcGluYWxDb250ZXh0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc3BpbmFsQ29yZSA9IHJlcXVpcmUoXCJzcGluYWwtY29yZS1jb25uZWN0b3Jqc1wiKTtcbmNvbnN0IGdsb2JhbFR5cGUgPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogd2luZG93O1xubGV0IGdldFZpZXdlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ2xvYmFsVHlwZS52O1xufTtcblxuaW1wb3J0IHtcbiAgVXRpbGl0aWVzXG59IGZyb20gXCIuL1V0aWxpdGllc1wiXG5cbmltcG9ydFxuU3BpbmFsQXBwbGljYXRpb25cbmZyb20gXCIuL1NwaW5hbEFwcGxpY2F0aW9uXCJcblxuLyoqXG4gKlxuICpcbiAqIEBjbGFzcyBTcGluYWxDb250ZXh0XG4gKiBAZXh0ZW5kcyB7U3BpbmFsQXBwbGljYXRpb259XG4gKi9cblxuXG5jbGFzcyBTcGluYWxDb250ZXh0IGV4dGVuZHMgU3BpbmFsQXBwbGljYXRpb24ge1xuICAvKipcbiAgICpDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFNwaW5hbENvbnRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHJlbGF0aW9uc1R5cGVzTHN0XG4gICAqIEBwYXJhbSB7U3BpbmFsR3JhcGh9IHJlbGF0ZWRHcmFwaFxuICAgKiBAcGFyYW0ge1NwaW5hTm9kZX0gc3RhcnRpbmdOb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZT1cIlNwaW5hbENvbnRleHRcIl1cbiAgICogQG1lbWJlcm9mIFNwaW5hbENvbnRleHRcbiAgICovXG4gIGNvbnN0cnVjdG9yKF9uYW1lLCByZWxhdGlvbnNUeXBlc0xzdCwgcmVsYXRlZEdyYXBoLCBzdGFydGluZ05vZGUsIG5hbWUgPVxuICAgIFwiU3BpbmFsQ29udGV4dFwiKSB7XG4gICAgc3VwZXIoX25hbWUsIHJlbGF0aW9uc1R5cGVzTHN0LCByZWxhdGVkR3JhcGgpO1xuICAgIGlmIChGaWxlU3lzdGVtLl9zaWdfc2VydmVyKSB7XG4gICAgICB0aGlzLmFkZF9hdHRyKHtcbiAgICAgICAgc3RhcnRpbmdOb2RlOiBzdGFydGluZ05vZGUgfHwgbmV3IFB0cigwKSxcbiAgICAgICAgY29udGV4dEltYWdlOiBuZXcgTHN0KClcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgU3BpbmFsQ29udGV4dDtcbnNwaW5hbENvcmUucmVnaXN0ZXJfbW9kZWxzKFtTcGluYWxDb250ZXh0XSk7Il19